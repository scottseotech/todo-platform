  name: Deploy Documentation

  on:
    push:
      branches: [main]
      paths:
        - 'docs/**'
        - '.github/workflows/docs.yaml'

  jobs:
    deploy:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v4

        - name: Set up Python
          uses: actions/setup-python@v5
          with:
            python-version: '3.11'

        - name: Install dependencies
          run: |
            cd docs
            pip install -r requirements.txt

        - name: Generate API docs
          run: |
            cd docs
            ./generate-api-docs.sh

        - name: Deploy to GitHub Pages
          run: |
            cd docs
            git config user.name "github-actions[bot]"
            git config user.email "github-actions[bot]@users.noreply.github.com"
            mkdocs gh-deploy --force